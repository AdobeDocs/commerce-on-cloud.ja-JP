---
title: PayPal 支払い方法の設定
description: クラウドインフラストラクチャー上のAdobe Commerce用に PayPal 支払い方法を設定します。
feature: Cloud, Checkout, Payments
source-git-commit: 1e789247c12009908eabb6039d951acbdfcc9263
workflow-type: tm+mt
source-wordcount: '669'
ht-degree: 0%

---

# PayPal 支払い方法の設定

クラウドインフラストラクチャー上のAdobe Commerceには、管理者を通じて直接 PayPal Express チェックアウトアカウントを設定するためのオンボーディングツールが用意されています。 このツールは、ECE 2.1.8 以降で使用できます。 運用開始や PayPal 支払い方法のテストをより適切にサポートするために、サンドボックスまたは実稼動アカウント用に PayPal Express チェックアウトアカウントを有効にして設定できます。

サンドボックスまたは実稼動アカウントは、すべての環境で設定できます。

* 統合およびステージング環境の場合は、サンドボックス資格情報を設定します。
* 実稼動環境の場合、初期テスト用にサンドボックス資格情報を設定し、次に起動済みストアのライブ実稼動資格情報に置き換えます。

## PayPal アカウント

準備および設定された PayPal マーチャントアカウントを使用するのが最善ですが、管理者を通じてアカウントを作成したり、個人アカウントをアップグレードしたりできます。

[!DNL PayPal onboarding] は、次のアカウントとの接続をサポートしています。

* PayPal ビジネスアカウント
* PayPal 個人アカウント、ビジネスアカウントに変換する。 既存の個人用 PayPal アカウントをお持ちの場合は、その資格情報でログインし、同期を完了するときにこのアカウントをビジネスアカウントにアップグレードできます。

既存の PayPal アカウントがない場合は、作成します。 新しいアカウントのメールアドレスを入力します。 一致する PayPal アカウントが見つからない場合は、プロンプトに従って PayPal Business アカウントを作成します。 または、[PayPal](https://www.paypal.com/us/webapps/mpp/account-selection) を介して直接アカウントを作成できます。

### PayPal の制限

PayPal は、以下の制限を除き、世界中の国の PayPal Express Checkout への接続をサポートしています。

* インドおよび日本（今後の PayPal のアップデートでは、これらのアカウントがサポートされる可能性があります）
* イスラエル

ブラジルの場合、接続するには既存の PayPal ビジネスアカウントが必要です。 このプロセス中に、ブラジルの既存の個人用 PayPal アカウントを変換することはできません。 アカウントが必要な場合は [&#x200B; ビジネス用 PayPal アカウントを作成 &#x200B;](https://www.paypal.com/us/webapps/mpp/account-selection) してください。

## PayPal Express チェックアウトの設定

PayPal Express チェックアウトを設定するには：

1. 環境の管理者にアクセスします。
1. 左側のナビゲーションで **店舗**/**設定** を選択し、**販売**/**支払い方法** を選択します。
1. PayPal の場合、「**設定**」を選択します。 設定フィールドは、「高速チェックアウト」、「PayPal クレジットのアドバタイズ」、「基本」および「詳細」設定の展開可能なセクションに表示されます。
1. PayPal アカウントを接続します。 アカウントが接続されるまで、有効にするオプションは無効です。 接続するために利用可能なアカウントとサポートされているアカウントと制限について詳しくは、[PayPal アカウント &#x200B;](#paypal-account) を参照してください。

   * PayPal ライブアカウントを接続するには、「PayPal で接続」をクリックし、画面の指示に従います。 ライブの PayPal を使用して購入したお客様は、ライブストアで完了し、積極的に請求します。
   * サンドボックスアカウントをテスト用に接続するには、「サンドボックス資格情報」をクリックし、表示されるプロンプトに従います。 サンドボックス PayPal を使用したお客様の購入は、積極的に顧客に請求することなく完了します。

1. PayPal API を認証および使用するために、高速チェックアウトの設定を行います。

   * **PayPal マーチャントアカウントに関連付けられたメール** （オプション） PayPal マーチャントアカウントに関連付けられたメールアドレスを入力します。 このメールでは大文字と小文字が区別されます。
   * **API 認証方法**:API 署名または API 証明書として。
   * PayPal アカウントからキャプチャされた API ユーザー名、パスワードおよび署名。
   * **サンドボックスモード** 「はい」または「いいえ」を選択して、入力した資格情報がサンドボックス用かどうかを示します。 実稼働環境用の認証情報を入力した場合は、「いいえ」を選択します。
   * **API Uses Proxy** 「Yes」または「No」を選択して、システムがプロキシサーバーを使用してAdobe Commerceと PayPal 支払いシステム間の接続を確立するかどうかを設定します。 [Yes] の場合は、プロキシ・ホストとポートを入力します。

1. アカウント設定の詳細と手順については、[PayPal Express Checkout](https://experienceleague.adobe.com/ja/docs/commerce-admin/stores-sales/payments/paypal/paypal-express-checkout) を参照してください。手順 2 必須設定を完了するから。

アカウントを設定して認証すると、必要な PayPal 設定で PayPal 支払いオプションを有効または無効にすることができます。

* **このソリューションを有効にする** Web サイトを通じてお客様に PayPal 支払い方法を表示します。
* **コンテキスト内チェックアウトエクスペリエンスを有効にする**
* **PayPal クレジットを有効にする** を使用すると、お客様は追加コストなしで PayPal クレジットファイナンスを利用できます。 PayPal は注文を事前に支払い、クレジットのすべての返済を顧客と直接処理します。

## PayPal 変数

クラウドインフラストラクチャー上でAdobe Commerceと共に PayPal オンボーディングツールを使用する場合、`magento.app.yaml` ファイルの `variables:env` セクションに次の変数を追加します。

```yaml
# Environment variables
variables:
  env:
    CONFIG__DEFAULT__PAYPAL_ONBOARDING__MIDDLEMAN_DOMAIN: 'payment-broker.magento.com'
```

2.1.8 以降から 2.2 にアップグレードする場合は、この変数を追加する必要があります。
